{"version":3,"file":"nervenet.min.js","sources":["nervenet.js"],"names":["global","isFunction","obj","toString","call","OBJECT_FUNCTION","isObject","Object","OBJECT_OBJECT","isString","OBJECT_STRING","isDom","HTMLElement","nodeType","nodeName","object","F","prototype","inherit","superClass","subClass","constructor","extend","args","slice","arguments","i","len","length","source","prop","parseNamespace","str","root","arr","split","Nervenet","Array","namespaces","config","VERSION","createContext","Context","createNameSpace","ns","setConfig","key","value","dir","injectPrefix","Mediator","this","maps","defaults","force","isSingle","errors","EXIST","$context","isBackbone","check","container","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","selector","preCheck","nodes","querySelectorAll","vo","instance","setElement","createMediator","klass","options","mediator","push","dom","className","param","el","createInstance","getVO","hasMap","map","flags","Error","removeMap","mappings","eventMap","valueMap","mediatorMap","mapValue","inject","MappingVO","NOT_EXIST","NOT_A_CLASS","SOMETHING_EXIST","getInjectValue","getClass","create","apply","prefix","preReg","RegExp","valueReg","test","mapKey","match","getValue","getSingleton","hasOwnProperty","mapSingleton","unshift","hasMapping","hasValue","target","postConstruct","mapClass","mapEvent","event","command","context","alias","isForce","removeEvent","retain","events","evt","removeMapping","removeValue","start","callback","Packager","trigger","handlers","eventObj"],"mappings":"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"}